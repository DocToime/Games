
        
let gameData = {
    "1": [
        {
            "words": [
                "February",
                "January",
                "March",
                "summer"
            ],
            "correct": "summer",
            "hint": "Three of these are months of the year."
        },
        {
            "words": [
                "football",
                "cricket",
                "rugby",
                "swimming"
            ],
            "correct": "swimming",
            "hint": "Three of these are land-based sports."
        },
        {
            "words": [
                "biscuit",
                "sweet",
                "cake",
                "salty"
            ],
            "correct": "salty",
            "hint": "Three of these are types of confectionery."
        },
        {
            "words": [
                "dog",
                "cat",
                "fish",
                "jump"
            ],
            "correct": "jump",
            "hint": "Three of these are types of animals."
        },
        {
            "words": [
                "elephant",
                "lion",
                "tiger",
                "sparrow"
            ],
            "correct": "sparrow",
            "hint": "Three of these are large mammals."
        },
        {
            "words": [
                "one",
                "two",
                "three",
                "eight"
            ],
            "correct": "eight",
            "hint": "Three of these are consecutive numbers."
        },
        {
            "words": [
                "Berlin",
                "London",
                "Paris",
                "river"
            ],
            "correct": "river",
            "hint": "Three of these are capital cities."
        },
        {
            "words": [
                "square",
                "triangle",
                "circle",
                "eraser"
            ],
            "correct": "eraser",
            "hint": "Three of these are geometric shapes."
        },
        {
            "words": [
                "apple",
                "banana",
                "carrot",
                "mango"
            ],
            "correct": "carrot",
            "hint": "Three of these are fruits."
        },
        {
            "words": [
                "green",
                "red",
                "blue",
                "sound"
            ],
            "correct": "sound",
            "hint": "Three of these are colors."
        }
    ],
    "2": [
        {
            "words": [
                "purple",
                "red",
                "blue",
                "colour"
            ],
            "correct": "colour",
            "hint": "Three of these are primary colors."
        },
        {
            "words": [
                "rain",
                "sleet",
                "snow",
                "hot"
            ],
            "correct": "hot",
            "hint": "Three of these are forms of precipitation."
        },
        {
            "words": [
                "violin",
                "piano",
                "flute",
                "paint"
            ],
            "correct": "paint",
            "hint": "Three of these are musical instruments."
        },
        {
            "words": [
                "pencil",
                "ruler",
                "pen",
                "book"
            ],
            "correct": "book",
            "hint": "Three of these are writing instruments."
        },
        {
            "words": [
                "science",
                "English",
                "maths",
                "guitar"
            ],
            "correct": "guitar",
            "hint": "Three of these are school subjects."
        },
        {
            "words": [
                "car",
                "bike",
                "bus",
                "run"
            ],
            "correct": "run",
            "hint": "Three of these are modes of transport."
        },
        {
            "words": [
                "rose",
                "daisy",
                "lily",
                "grass"
            ],
            "correct": "grass",
            "hint": "Three of these are types of flowers."
        },
        {
            "words": [
                "scarf",
                "gloves",
                "hat",
                "shoes"
            ],
            "correct": "shoes",
            "hint": "Three of these are winter accessories."
        },
        {
            "words": [
                "bread",
                "butter",
                "jam",
                "spoon"
            ],
            "correct": "spoon",
            "hint": "Three of these are types of spreads."
        },
        {
            "words": [
                "queen",
                "prince",
                "king",
                "castle"
            ],
            "correct": "castle",
            "hint": "Three of these are royal titles."
        }
    ],
    "3": [
        {
            "words": [
                "read",
                "write",
                "talk",
                "listen"
            ],
            "correct": "listen",
            "hint": "Three of these are verbal actions."
        },
        {
            "words": [
                "eye",
                "nose",
                "ear",
                "face"
            ],
            "correct": "face",
            "hint": "Three of these are facial features."
        },
        {
            "words": [
                "hat",
                "helmet",
                "cap",
                "head"
            ],
            "correct": "head",
            "hint": "Three of these are types of headgear."
        },
        {
            "words": [
                "ocean",
                "river",
                "lake",
                "water"
            ],
            "correct": "water",
            "hint": "Three of these are bodies of water."
        },
        {
            "words": [
                "orange",
                "apple",
                "pear",
                "fruit"
            ],
            "correct": "fruit",
            "hint": "Three of these are types of fruits."
        },
        {
            "words": [
                "Wednesday",
                "Tuesday",
                "July",
                "Monday"
            ],
            "correct": "July",
            "hint": "Three of these are days of the week."
        },
        {
            "words": [
                "run",
                "swim",
                "jump",
                "move"
            ],
            "correct": "move",
            "hint": "Three of these are physical activities."
        },
        {
            "words": [
                "tree",
                "flower",
                "bush",
                "plant"
            ],
            "correct": "plant",
            "hint": "Three of these are types of flora."
        },
        {
            "words": [
                "train",
                "plane",
                "car",
                "transport"
            ],
            "correct": "transport",
            "hint": "Three of these are types of vehicles."
        },
        {
            "words": [
                "pig",
                "cow",
                "horse",
                "barn"
            ],
            "correct": "barn",
            "hint": "Three of these are farm animals"
        }
    ],
    "4": [
        {
            "words": [
                "phone",
                "laptop",
                "tablet",
                "device"
            ],
            "correct": "device",
            "hint": "Three of these are types of electronics."
        },
        {
            "words": [
                "triangle",
                "square",
                "circle",
                "shape"
            ],
            "correct": "shape",
            "hint": "Three of these are geometric figures."
        },
        {
            "words": [
                "jazz",
                "rock",
                "pop",
                "music"
            ],
            "correct": "music",
            "hint": "Three of these are music genres."
        },
        {
            "words": [
                "spring",
                "summer",
                "autumn",
                "season"
            ],
            "correct": "season",
            "hint": "Three of these represent specific times of the year."
        },
        {
            "words": [
                "pie",
                "cookie",
                "cake",
                "dessert"
            ],
            "correct": "dessert",
            "hint": "Three of these are specific types of desserts."
        },
        {
            "words": [
                "hammer",
                "screwdriver",
                "wrench",
                "tool"
            ],
            "correct": "tool",
            "hint": "Three of these are specific types of hand tools."
        },
        {
            "words": [
                "leg",
                "arm",
                "foot",
                "body"
            ],
            "correct": "body",
            "hint": "Three of these are parts of the body."
        },
        {
            "words": [
                "sing",
                "act",
                "dance",
                "perform"
            ],
            "correct": "perform",
            "hint": "Three of these are specific performing arts."
        },
        {
            "words": [
                "chicken",
                "duck",
                "turkey",
                "bird"
            ],
            "correct": "bird",
            "hint": "Three of these are specific types of birds."
        },
        {
            "words": [
                "cat",
                "mouse",
                "dog",
                "animal"
            ],
            "correct": "animal",
            "hint": "Three of these are types of domestic animals."
        }
    ],
    "5": [
        {
            "words": [
                "potato",
                "onion",
                "carrot",
                "vegetable"
            ],
            "correct": "vegetable",
            "hint": "Three of these are types of vegetables."
        },
        {
            "words": [
                "sun",
                "moon",
                "star",
                "sky"
            ],
            "correct": "sky",
            "hint": "Three of these are celestial bodies."
        },
        {
            "words": [
                "scooter",
                "bike",
                "skateboard",
                "ride"
            ],
            "correct": "ride",
            "hint": "Three of these are wheeled vehicles."
        },
        {
            "words": [
                "cricket",
                "rugby",
                "tennis",
                "sport"
            ],
            "correct": "sport",
            "hint": "Three of these are individual sports."
        },
        {
            "words": [
                "whale",
                "shark",
                "dolphin",
                "fish"
            ],
            "correct": "fish",
            "hint": "Three of these are mammals."
        },
        {
            "words": [
                "melon",
                "grape",
                "banana",
                "fruit"
            ],
            "correct": "fruit",
            "hint": "Three of these are types of fruits."
        },
        {
            "words": [
                "painting",
                "drawing",
                "sketch",
                "art"
            ],
            "correct": "art",
            "hint": "Three of these are specific art forms."
        },
        {
            "words": [
                "pencil",
                "sharpener",
                "eraser",
                "stationery"
            ],
            "correct": "stationery",
            "hint": "Three of these are writing tools."
        },
        {
            "words": [
                "rectangle",
                "pentagon",
                "hexagon",
                "shape"
            ],
            "correct": "shape",
            "hint": "Three of these are geometric figures."
        },
        {
            "words": [
                "strawberry",
                "vanilla",
                "chocolate",
                "flavour"
            ],
            "correct": "flavour",
            "hint": "Three of these are geometric shapes."
        }
    ],
    "6": [
        {
            "words": [
                "5",
                "1",
                "3",
                "10"
            ],
            "correct": "10",
            "hint": "Three of these are numbers."
        },
        {
            "words": [
                "e",
                "i",
                "a",
                "p"
            ],
            "correct": "p",
            "hint": "Three of these are vowels."
        },
        {
            "words": [
                "14",
                "21",
                "7",
                "25"
            ],
            "correct": "25",
            "hint": "Three of these are divisible by 7."
        },
        {
            "words": [
                "yellow",
                "blue",
                "green",
                "pink"
            ],
            "correct": "pink",
            "hint": "Three of these are colors."
        },
        {
            "words": [
                "ball",
                "wicket",
                "bat",
                "team"
            ],
            "correct": "team",
            "hint": "Three of these are related to cricket."
        },
        {
            "words": [
                "triangle",
                "circle",
                "square",
                "line"
            ],
            "correct": "line",
            "hint": "Three of these are geometric shapes."
        },
        {
            "words": [
                "6",
                "4",
                "2",
                "9"
            ],
            "correct": "9",
            "hint": "Three of these are even numbers."
        },
        {
            "words": [
                "bike",
                "bus",
                "train",
                "car"
            ],
            "correct": "train",
            "hint": "Three of these are modes of transportation."
        },
        {
            "words": [
                "grape",
                "banana",
                "cherry",
                "apple"
            ],
            "correct": "banana",
            "hint": "Three of these are fruits."
        },
        {
            "words": [
                "10",
                "30",
                "20",
                "45"
            ],
            "correct": "45",
            "hint": "Three of these are multiples of 10."
        }
    ],
    "7": [
        {
            "words": [
                "scarf",
                "hat",
                "gloves",
                "shirt"
            ],
            "correct": "shirt",
            "hint": "Three of these are clothing items."
        },
        {
            "words": [
                "knee",
                "elbow",
                "wrist",
                "hip"
            ],
            "correct": "hip",
            "hint": "Three of these are joints."
        },
        {
            "words": [
                "sun",
                "moon",
                "earth",
                "mars"
            ],
            "correct": "sun",
            "hint": "Three of these are celestial bodies."
        },
        {
            "words": [
                "apple",
                "grape",
                "orange",
                "fruit"
            ],
            "correct": "fruit",
            "hint": "Three of these are types of fruits."
        },
        {
            "words": [
                "bus",
                "bike",
                "car",
                "walk"
            ],
            "correct": "walk",
            "hint": "Three of these are physical actions."
        },
        {
            "words": [
                "flower",
                "bush",
                "tree",
                "plant"
            ],
            "correct": "plant",
            "hint": "Three of these are types of flora."
        },
        {
            "words": [
                "2",
                "5",
                "4",
                "3"
            ],
            "correct": "4",
            "hint": "Three of these are prime numbers"
        },
        {
            "words": [
                "10",
                "5",
                "15",
                "12"
            ],
            "correct": "12",
            "hint": "Three of these are multiples of 5"
        },
        {
            "words": [
                "bird",
                "cat",
                "cow",
                "dog"
            ],
            "correct": "cow",
            "hint": "Three of these are commonly kept as pets."
        },
        {
            "words": [
                "pencil",
                "pen",
                "brush",
                "ink"
            ],
            "correct": "ink",
            "hint": "Three of these are common writing instruments."
        }
    ],
    "8": [
        {
            "words": [
                "walk",
                "jump",
                "sleep",
                "run"
            ],
            "correct": "sleep",
            "hint": "Three of these are physical activities."
        },
        {
            "words": [
                "chair",
                "desk",
                "table",
                "furniture"
            ],
            "correct": "furniture",
            "hint": "Three of these are specific types of furniture."
        },
        {
            "words": [
                "red",
                "green",
                "blue",
                "color"
            ],
            "correct": "color",
            "hint": "Three of these are colors."
        },
        {
            "words": [
                "cricket",
                "tennis",
                "football",
                "sport"
            ],
            "correct": "sport",
            "hint": "Three of these are individual sports."
        },
        {
            "words": [
                "bread",
                "butter",
                "cheese",
                "dairy"
            ],
            "correct": "dairy",
            "hint": "Three of these are dairy products."
        },
        {
            "words": [
                "lion",
                "leopard",
                "tiger",
                "cat"
            ],
            "correct": "cat",
            "hint": "Three of these are feline animals."
        },
        {
            "words": [
                "6",
                "9",
                "3",
                "13"
            ],
            "correct": "13",
            "hint": "Three of these are single-digit numbers."
        },
        {
            "words": [
                "rain",
                "sun",
                "snow",
                "weather"
            ],
            "correct": "weather",
            "hint": "Three of these are weather conditions."
        },
        {
            "words": [
                "square",
                "oval",
                "circle",
                "shape"
            ],
            "correct": "shape",
            "hint": "Three of these are geometric figures."
        },
        {
            "words": [
                "12",
                "8",
                "4",
                "18"
            ],
            "correct": "18",
            "hint": "Three of these are divisible by 4."
        }
    ]
};

let currentLevel = 1;
let currentQuestionIndex = 0;
let score = 0;
let mistakes = 0;
let hintUsed = false;

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function createWordButtons(words) {
    const wordOptionsContainer = document.getElementById('word-options');
    wordOptionsContainer.innerHTML = '';
    hintUsed = false;
    shuffleArray(words);

    // Define a set of vibrant colors
    const colors = [
        '#007bff', // Bright Blue
        '#17a2b8', // Teal
        '#fd7e14', // Orange
        '#6f42c1', // Purple
        '#20c997', // Mint Green
        '#FF7F50', // Coral
        '#FF00FF'  // Pink
    ];

    // Select a random color for all buttons
    const randomColorIndex = Math.floor(Math.random() * colors.length);
    const buttonColor = colors[randomColorIndex];

    const buttonFontSize = '30px'; // You can adjust the font size as needed


    words.forEach((word) => {
        const button = document.createElement('button');
        button.innerText = word;
        button.style.fontFamily = document.getElementById('font-selector').value;

        // Apply the same random color to each button
        button.style.backgroundColor = buttonColor;
        button.style.color = 'white'; // Ensure text color is white for visibility
        button.style.fontSize = buttonFontSize; // Set the font size


        button.addEventListener('click', () => handleWordSelection(word));
        wordOptionsContainer.appendChild(button);
    });
}


function updateDisplay(message) {
    document.getElementById('score').innerText = 'Score: ' + score;
    document.getElementById('mistakes').innerText = 'Mistakes: ' + mistakes;
    document.getElementById('message').innerText = message;
    document.getElementById('hint').innerText = '';
}

function handleWordSelection(selectedWord) {
    const currentQuestion = gameData[currentLevel][currentQuestionIndex];
    const gameContainer = document.getElementById('game-container'); // Reference to the game container

    if (selectedWord === currentQuestion.correct) {
        gameContainer.classList.add('flash-green');
        setTimeout(() => gameContainer.classList.remove('flash-green'), 500);
        score++;
        updateDisplay('Correct!');
        currentQuestionIndex++;
        
        if (currentQuestionIndex >= gameData[currentLevel].length) {
            // Level is completed
            updateDisplay('Level ' + currentLevel + ' complete! Moving to next level...');
            finishLevel(); // Apply the rainbow ripple effect
            setTimeout(() => {
                // Move to the next level after a short delay
                currentLevel++; // Increment to the next level
                if (currentLevel <= Object.keys(gameData).length) {
                    startLevel(currentLevel);
                } else {
                    updateDisplay('Congratulations! You have completed all levels.');
                    // Here you can handle the end of all levels, e.g., hiding game elements or showing a restart option
                }
            }, 4000); // 4 seconds delay before starting next level
        } else {
            // Move to the next question
            setTimeout(() => {
                createWordButtons(gameData[currentLevel][currentQuestionIndex].words);
            }, 500); // Delay for the flash animation to complete
        }
    } else {
        // Wrong answer
        gameContainer.classList.add('flash-red');
        setTimeout(() => gameContainer.classList.remove('flash-red'), 500);
        mistakes++;
        updateDisplay('This is a tough one! Try again, or use the Hint button.');
    }
}


function startLevel(level) {
    currentLevel = level;
    currentQuestionIndex = 0;
    score = 0;
    mistakes = 0;
    createWordButtons(gameData[currentLevel][currentQuestionIndex].words);
    updateDisplay('');

    // Hide the Start Game button
    document.getElementById('start-button').style.display = 'none';

    document.getElementById('hint-button').style.display = 'block';

    // Set the selected option in the level-select drop-down
    const levelSelect = document.getElementById('level-select');
    levelSelect.value = currentLevel.toString(); // Convert currentLevel to a string for comparison

    levelSelect.addEventListener('change', () => startLevel(levelSelect.value));
}


function displayHint() {
    const currentQuestion = gameData[currentLevel][currentQuestionIndex];
    if (currentQuestion && currentQuestion.hint) {
        // Optionally add visual effects here
        document.getElementById('hint').innerText = currentQuestion.hint;
    } else {
        console.error('No hint available for the current question.');
    }
}

function finishLevel() {
    flashImage(); // Display the completion image
}

document.addEventListener('DOMContentLoaded', () => {
    const levelSelect = document.getElementById('level-select');
    Object.keys(gameData).forEach(level => {
        const option = document.createElement('option');
        option.value = level;
        option.text = 'Level ' + level;
        levelSelect.appendChild(option);
    });

    levelSelect.addEventListener('change', () => startLevel(levelSelect.value));
    document.getElementById('start-button').addEventListener('click', () => startLevel(currentLevel));
    document.getElementById('hint-button').addEventListener('click', displayHint);
    setupModalEventListeners();

});

document.addEventListener('DOMContentLoaded', function() {
    var fontSelector = document.getElementById('font-selector');
    if (fontSelector) {
        fontSelector.addEventListener('change', function() {
            var selectedFont = this.value;
            document.body.style.fontFamily = selectedFont;

            // Update the font for the 'odd one out' words (word buttons)
            var wordButtons = document.querySelectorAll('#word-options button');
            wordButtons.forEach(function(button) {
                button.style.fontFamily = selectedFont;
            });
        });
    }
});

const completionImages = [
    'images/image1.webp',
    'images/image2.webp',
    'images/image3.webp',
    'images/image4.webp',
    'images/image5.webp',
    'images/image6.webp',
    'images/image7.webp',
    'images/image8.webp',
    'images/image9.webp',
    'images/image10.webp',
    'images/image11.webp',
    
];

// Shuffle the completionImages array once at the beginning
shuffleArray(completionImages);
// Variable to keep track of the current image index
let currentImageIndex = 0;

function flashImage() {
    // Delay the execution for 1 second
    setTimeout(() => {
        const gameContainer = document.getElementById('game-container');
        const titleElement = document.querySelector('#game-container h1'); // Select the h1 element inside the game container

        // Directly apply styles to hide the game container and change the title color
        gameContainer.style.display = 'none';
        titleElement.style.color = 'black';

        const imageContainer = document.createElement('div');
        imageContainer.style.position = 'absolute';
        imageContainer.style.zIndex = '1000';
        imageContainer.style.width = '80%';
        imageContainer.style.maxWidth = '600px';
        imageContainer.style.margin = 'auto';
        imageContainer.style.left = '0';
        imageContainer.style.right = '0';
        imageContainer.style.top = '50%';
        imageContainer.style.transform = 'translateY(-50%)';
        imageContainer.style.textAlign = 'center';
        imageContainer.style.borderRadius = '10px';
        document.body.appendChild(imageContainer);

        const completionMessage = document.createElement('p');
        completionMessage.innerText = `Well done! You passed Level ${currentLevel}.`;
        completionMessage.style.fontSize = '24px';
        completionMessage.style.fontWeight = 'bold';
        completionMessage.style.marginBottom = '10px';
        imageContainer.appendChild(completionMessage);

        const clickMessage = document.createElement('p');
        clickMessage.innerText = "Click anywhere to continue";
        clickMessage.style.fontSize = '16px';
        imageContainer.appendChild(clickMessage);

        const imageSrc = completionImages[currentImageIndex];
        const image = document.createElement('img');
        image.src = imageSrc;
        image.alt = 'Flashing Image';
        image.style.width = '100%';
        image.style.borderRadius = '10px';
        imageContainer.appendChild(image);

        // Increment the currentImageIndex
        currentImageIndex = (currentImageIndex + 1) % completionImages.length;

        // Event Listener to remove the image container on click
        imageContainer.addEventListener('click', () => {
            document.body.removeChild(imageContainer);

            // Reset styles to show the game container and title
            gameContainer.style.display = '';
            titleElement.style.color = '';
        });
    }, 2000);
}



